# 헤더 컴포넌트 가이드

## 📋 개요

Header 컴포넌트는 사용자의 로그인 상태(비로그인, 개인 회원, 기업 회원)에 따라 자동으로 변경됩니다.

## 🎯 상태별 헤더 구조

### 1️⃣ 비로그인 상태

**헤더 오른쪽:**
- 로그인 버튼
- 회원가입 버튼

**카테고리:**
- 전체 공고 목록

**동작:**
- 로그인 버튼 클릭 → `/login` 페이지로 이동
- 회원가입 버튼 클릭 → `/signup` 페이지로 이동
- 로고 클릭 → 메인 페이지로 이동

---

### 2️⃣ 개인 회원 로그인 상태

**헤더 오른쪽:**
- "OOO님 환영합니다" 메시지
- 프로필 정보
  - 이름
  - 지원한 기업 수 (예: "지원한 기업: 3")
  - 알림 배지 (있을 경우)
- 프로필 메뉴 (드롭다운)
  - 프로필 관리
  - 내가 지원한 공고 관리
  - 로그 아웃

**카테고리:**
- 전체 공고 목록

**특별 기능:**
- 카카오 로그인인 경우 카카오 프로필 이미지 표시
- 로컬 로그인인 경우 기본 프로필 이미지 표시

---

### 3️⃣ 기업 회원 로그인 상태

**헤더 오른쪽:**
- "OOO기업님 환영합니다" 메시지
- 프로필 정보
  - 기업명
  - 채용 공고 수 (예: "채용 공고: 8개")
  - 알림 배지 (지원자 알림)
- 프로필 메뉴 (드롭다운)
  - 프로필 관리
  - 공고 관리
  - 지원자 관리
  - 로그 아웃

**카테고리:**
- 전체 공고 목록
- 구직자 탐색 ⭐ (기업 회원만 표시)

---

## 🔄 자동 업데이트

헤더는 다음 상황에서 자동으로 업데이트됩니다:

1. **로그인 성공 시**
   - 사용자 정보 로드
   - 환영 메시지 표시
   - 프로필 메뉴 표시

2. **로그아웃 시**
   - 비로그인 상태로 전환
   - 로그인/회원가입 버튼 표시

3. **페이지 새로고침 시**
   - 쿠키에서 인증 정보 자동 로드
   - 사용자 정보 API 호출
   - 헤더 자동 업데이트

---

## 🧪 테스트 방법

### 개발 환경에서 테스트

1. **헤더 테스트 페이지 접속**
   ```
   http://localhost:3000/play/header-test
   ```

2. **다양한 로그인 상태 테스트**
   - 개인 회원 로그인 (로컬)
   - 개인 회원 로그인 (카카오)
   - 기업 회원 로그인
   - 로그아웃

3. **각 상태별 확인 사항**
   - [ ] 환영 메시지 표시
   - [ ] 프로필 정보 정확성
   - [ ] 알림 배지 표시
   - [ ] 드롭다운 메뉴 동작
   - [ ] 카테고리 표시 (개인/기업)
   - [ ] 로그아웃 기능

### 실제 로그인으로 테스트

1. **로그인 페이지 접속**
   ```
   http://localhost:3000/login          (개인)
   http://localhost:3000/login/company  (기업)
   ```

2. **로그인 후 확인**
   - 메인 페이지로 리다이렉트
   - 헤더 자동 업데이트
   - 프로필 정보 표시

---

## 🎨 스타일링

헤더는 다음 스타일을 사용합니다:

```css
width: 100%;
height: 213px;
border-bottom: 1px solid #e0e0e0;
box-shadow: 0 2px 2px #c8c8c8;
```

**내부 구조:**
- HeaderTop (126px): 로고 + 프로필/버튼
- HeaderCategory (87px): 카테고리 링크

---

## 📱 반응형 (TODO)

현재 고정 너비 1256px를 사용합니다.
나중에 반응형 디자인 추가 예정:
- 태블릿: 768px
- 모바일: 375px

---

## 🔧 커스터마이징

### 환영 메시지 변경

`src/layouts/Header.jsx`:
```javascript
<WelcomeText>
  <strong>{user?.name || user?.companyName}</strong>님 환영합니다
</WelcomeText>
```

### 카테고리 추가

```javascript
<CategoryLink to="/new-category">새 카테고리</CategoryLink>
```

### 드롭다운 메뉴 항목 수정

UserDropdown 또는 CompanyDropdown 컴포넌트 수정:
```javascript
// src/components/Dropdowns/UserDropdown.jsx
const menuItems = [
  { id: 'profile', label: '프로필 관리', isLogout: false },
  { id: 'new-menu', label: '새 메뉴', isLogout: false },  // 추가
  { id: 'logout', label: '로그 아웃', isLogout: true }
];
```

---

## 🐛 문제 해결

### 헤더가 업데이트되지 않음

1. AuthContext가 제대로 동작하는지 확인
2. 브라우저 콘솔에서 에러 확인
3. 쿠키에 액세스 토큰이 있는지 확인

### 프로필 이미지가 표시되지 않음

1. 이미지 URL 확인
2. CORS 설정 확인
3. 기본 이미지 경로 확인

### 로그아웃이 동작하지 않음

1. 백엔드 `/auth/logout` 엔드포인트 확인
2. 쿠키가 제대로 삭제되는지 확인
3. 네트워크 탭에서 API 호출 확인

---

## 📚 관련 파일

- `src/layouts/Header.jsx` - 헤더 컴포넌트
- `src/layouts/Layout.jsx` - 레이아웃 래퍼
- `src/contexts/AuthContext.jsx` - 인증 상태 관리
- `src/components/Dropdowns/UserDropdown.jsx` - 개인 회원 메뉴
- `src/components/Dropdowns/CompanyDropdown.jsx` - 기업 회원 메뉴
- `src/components/Profile/*` - 프로필 관련 컴포넌트

---

## ✅ 체크리스트

### 개발 완료 항목
- [x] 비로그인 상태 헤더
- [x] 개인 회원 로그인 헤더
- [x] 기업 회원 로그인 헤더
- [x] 카카오 프로필 이미지 지원
- [x] 알림 배지 기능
- [x] 드롭다운 메뉴
- [x] 자동 로그인 (쿠키)
- [x] 로그아웃 기능

### TODO
- [ ] 반응형 디자인
- [ ] 알림 목록 상세 보기
- [ ] 프로필 이미지 업로드
- [ ] 다크 모드
- [ ] 애니메이션 효과

